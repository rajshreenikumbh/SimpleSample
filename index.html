<! doctype html>
<html>
<head>
 <title>HP.com Business to Business</title>
</head>

<body>

<!-- Content Session Section -->
   <div class="content-right-section left-nav-space screen" id='results'>
    <h1 class="page-title">Login to B2B store</h1>
	<table width="100%" border='0' id="SSessions">
      <tr>
        <!-- <th  align="left" scope="col">Title</th>
		<th  align="left" scope="col">Body</th> -->
		<td>User name</td>
		<td><input type="text" name="login" value=""></td>
      </tr>
	   <tr>
        <!-- <th  align="left" scope="col">Title</th>
		<th  align="left" scope="col">Body</th> -->
		<td>Password</td>
		<td><input type="password" name="password" value=""></td>
      </tr>
	  <tr><td><input type="submit" name="Login" id="loginBtn" value="Login"></td></tr>
      
    </table>
  </div>
</body>

<script src="js/jQuery.js"></script>

<script>

$('#loginBtn').click(function(){
SUBMIT.Doit($('#results'));
});

$("#clear").click(function(){
  $("#results").hide();
});


var SUBMIT = (function(module) {
module.Doit = function(resultObject){

	$.ajax({
			
			contentType : "application/json",
			accept:"application/json",
			//url : "http://api.geonames.org/citiesJSON?north=44.1&south=-9.9&east=-22.4&west=55.2&lang=de&username=demo",
			//url : "http://rest-service.guides.spring.io/greeting",
			url :"http://epvmrh6.americas.hpqcorp.net/is-bin/INTERSHOP.enfinity/WFS/HP-ePrime-Site/en_US/-/USD/ViewLogin-ProcessForm",
			//url : "http://services.groupkt.com/country/get/iso2code/IN",
			crossDomain:true,
			type : "GET",
			async : false,
			beforeSend : function(jqXhr){
						jqXhr.setRequestHeader('Content-Type',"application/json; charset=utf-8");
						jqXhr.setRequestHeader('Accept','application/json');
						jqXhr.setRequestHeader('Access-Control-Allow-Origin','*');
						jqXhr.setRequestHeader('Access-Control-Allow-Methods: POST, GET, OPTIONS');
						}
			}).success(function(response){
			var data = response;
				alert("response is");
				alert("response is "+JSON.stringify(response));
				if(data != undefined && data != null && data.length != 0 ){
						var str = "<tr  id='"+data.userId+"'><td>" + data.title + "</td><td>" + data.body+ "</td></tr>"
						$('#Sessions tr:last').after(str);
					}
			}).error(function(response){
				alert("error in fetching data");
			})
			$('#results').show();

 //resultObject.prepend( 'Good Morning ' + '<br/>')
};
return module;
} (SUBMIT  || {}));
</script>
</html>
